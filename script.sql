CREATE INDEX IF NOT EXISTS "idx_cart_deleted_at" ON "cart" ("deleted_at")
CREATE UNIQUE INDEX IF NOT EXISTS "idx_cart_user_show_schedule_unique" ON "cart" ("user_id","show_schedule_id") WHERE deleted_at is null
SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'seat' AND table_type = 'BASE TABLE'
CREATE TABLE "seat" ("id" varchar(36) NOT NULL UNIQUE,"sort" bigint DEFAULT 0,"status" smallint DEFAULT 1,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"additional" text,"creator_id" varchar(36),"modifier_id" varchar(36),"show_schedule_id" text,"seat_layout_id" text,"code" text,"row" text,"column" text,"characteristic" text,"is_available" boolean,PRIMARY KEY ("id"))
CREATE INDEX IF NOT EXISTS "idx_seat_deleted_at" ON "seat" ("deleted_at")
SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'show_schedule' AND table_type = 'BASE TABLE'
CREATE TABLE "show_schedule" ("id" varchar(256) NOT NULL UNIQUE,"sort" bigint DEFAULT 0,"status" smallint DEFAULT 1,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"additional" text,"creator_id" varchar(36),"modifier_id" varchar(36),"date" text,"start_time" text,"movie_id" text,"cinema_location_id" text,"theater_id" text,"price" decimal,"is_start" boolean,"unique_code" text,PRIMARY KEY ("id"))
CREATE UNIQUE INDEX IF NOT EXISTS "show_schedule_code_unique" ON "show_schedule" ("unique_code") WHERE deleted_at is null
CREATE INDEX IF NOT EXISTS "idx_show_schedule_deleted_at" ON "show_schedule" ("deleted_at")
SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'cinema_location' AND table_type = 'BASE TABLE'
CREATE TABLE "cinema_location" ("id" text NOT NULL UNIQUE,"sort" bigint DEFAULT 0,"status" smallint DEFAULT 1,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"additional" text,"creator_id" varchar(36),"modifier_id" varchar(36),"name" text,"code" text,"address" text,PRIMARY KEY ("id"))
CREATE UNIQUE INDEX IF NOT EXISTS "cinema_location_code_unique" ON "cinema_location" ("code") WHERE deleted_at is null
CREATE INDEX IF NOT EXISTS "idx_cinema_location_deleted_at" ON "cinema_location" ("deleted_at")
SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'movie' AND table_type = 'BASE TABLE'
CREATE TABLE "movie" ("id" text NOT NULL UNIQUE,"sort" bigint DEFAULT 0,"status" smallint DEFAULT 1,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"additional" text,"creator_id" varchar(36),"modifier_id" varchar(36),"name" text,"code" text,"duration" decimal,"category" text,"producer" text,"director" text,PRIMARY KEY ("id"))
CREATE UNIQUE INDEX IF NOT EXISTS "movie_code_unique" ON "movie" ("code") WHERE deleted_at is null
CREATE INDEX IF NOT EXISTS "idx_movie_deleted_at" ON "movie" ("deleted_at")
SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'reference_count' AND table_type = 'BASE TABLE'
CREATE TABLE "reference_count" ("id" varchar(36) NOT NULL UNIQUE,"sort" bigint DEFAULT 0,"status" smallint DEFAULT 1,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"additional" text,"creator_id" varchar(36),"modifier_id" varchar(36),"name" varchar(256) NOT NULL,"prefix" text,"length" bigint,"count" bigint,PRIMARY KEY ("id"))
CREATE UNIQUE INDEX IF NOT EXISTS "idx_reference_count_name_unique" ON "reference_count" ("name") WHERE deleted_at is null
CREATE INDEX IF NOT EXISTS "idx_reference_count_deleted_at" ON "reference_count" ("deleted_at")
SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'seat_layout' AND table_type = 'BASE TABLE'
CREATE TABLE "seat_layout" ("id" text NOT NULL UNIQUE,"sort" bigint DEFAULT 0,"status" smallint DEFAULT 1,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"additional" text,"creator_id" varchar(36),"modifier_id" varchar(36),"code" text,"row" text,"column" text,"characteristic" text,PRIMARY KEY ("id"))
CREATE UNIQUE INDEX IF NOT EXISTS "seat_layout_code_unique" ON "seat_layout" ("code") WHERE deleted_at is null
CREATE INDEX IF NOT EXISTS "idx_seat_layout_deleted_at" ON "seat_layout" ("deleted_at")
SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'theater' AND table_type = 'BASE TABLE'
CREATE TABLE "theater" ("id" text NOT NULL UNIQUE,"sort" bigint DEFAULT 0,"status" smallint DEFAULT 1,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"additional" text,"creator_id" varchar(36),"modifier_id" varchar(36),"cinema_location_id" text,"name" text,"code" text,PRIMARY KEY ("id"))
CREATE UNIQUE INDEX IF NOT EXISTS "location_theater_code_unique" ON "theater" ("cinema_location_id","code") WHERE deleted_at is null
CREATE INDEX IF NOT EXISTS "idx_theater_deleted_at" ON "theater" ("deleted_at")
SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'ticket' AND table_type = 'BASE TABLE'
CREATE TABLE "ticket" ("id" varchar(36) NOT NULL UNIQUE,"sort" bigint DEFAULT 0,"status" smallint DEFAULT 1,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"additional" text,"creator_id" varchar(36),"modifier_id" varchar(36),"transaction_id" varchar(36),"show_schedule_id" text,"reference_number" text,"is_printed" boolean,"is_activated" boolean,"seat_code" text,"movie_name" text,"location_name" text,"theater_name" text,"price" decimal,"date" text,"start_time" text,PRIMARY KEY ("id"))
CREATE INDEX IF NOT EXISTS "idx_ticket_deleted_at" ON "ticket" ("deleted_at")
SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'transaction' AND table_type = 'BASE TABLE'
CREATE TABLE "transaction" ("id" text NOT NULL UNIQUE,"sort" bigint DEFAULT 0,"status" smallint DEFAULT 1,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"additional" text,"creator_id" varchar(36),"modifier_id" varchar(36),"user_id" text,"cart_id" text,"invoice_no" text,"transaction_status" text,"booking_code" text,"total_ticket_price" decimal,"total_discount" decimal,"total_fee" decimal,"total_price" decimal,"contact_name" text,"contact_detail" text,PRIMARY KEY ("id"))
CREATE INDEX IF NOT EXISTS "idx_transaction_deleted_at" ON "transaction" ("deleted_at")
SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'transaction_payment' AND table_type = 'BASE TABLE'
CREATE TABLE "transaction_payment" ("id" varchar(36) NOT NULL UNIQUE,"sort" bigint DEFAULT 0,"status" smallint DEFAULT 1,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"additional" text,"creator_id" varchar(36),"modifier_id" varchar(36),"transaction_id" text,"paid_amount" decimal,"paid_at" text,"notes" text,"type" text,"via" text,"reference_no" text,PRIMARY KEY ("id"))
CREATE INDEX IF NOT EXISTS "idx_transaction_payment_deleted_at" ON "transaction_payment" ("deleted_at")
SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user' AND table_type = 'BASE TABLE'
CREATE TABLE "user" ("id" varchar(36) NOT NULL UNIQUE,"sort" bigint DEFAULT 0,"status" smallint DEFAULT 1,"created_at" timestamptz,"updated_at" timestamptz,"deleted_at" timestamptz,"additional" text,"creator_id" varchar(36),"modifier_id" varchar(36),"first_name" varchar(256) NOT NULL,"last_name" varchar(256),"username" varchar(256) NOT NULL,"email" varchar(256) NOT NULL,"phone_number" varchar(15),"is_admin" boolean,"password" text,"last_login" timestamptz,PRIMARY KEY ("id"))
CREATE UNIQUE INDEX IF NOT EXISTS "idx_users_email_unique" ON "user" ("email") WHERE deleted_at is null
CREATE UNIQUE INDEX IF NOT EXISTS "idx_users_Username_unique" ON "user" ("username") WHERE deleted_at is null
CREATE INDEX IF NOT EXISTS "idx_user_deleted_at" ON "user" ("deleted_at")
INSERT INTO "cinema_location" ("id","sort","status","created_at","updated_at","deleted_at","additional","creator_id","modifier_id","name","code","address") VALUES ('0f02aec5-b741-4e3e-8fb4-87ad4961a403',0,1,'2024-03-16T14:59:46.399Z','2024-03-16T14:59:46.399Z',NULL,NULL,NULL,NULL,'Plaza Indonesia','plaza_indonesia','Jl. M.H. Thamrin No.28 30, RT.9/RW.5, Gondangdia, Menteng, Central Jakarta City, Jakarta 10350'),('0f02aec5-a741-4d3e-8fb4-87ad4961a404',0,1,'2024-03-16T14:59:46.399Z','2024-03-16T14:59:46.399Z',NULL,NULL,NULL,NULL,'Plaza Surabaya','plaza_surabaya','Jl. Pemuda No.31-37 Lt. 5, Embong Kaliasin, Kec. Genteng, Surabaya, Jawa Timur 60271') ON CONFLICT DO NOTHING
INSERT INTO "movie" ("id","sort","status","created_at","updated_at","deleted_at","additional","creator_id","modifier_id","name","code","duration","category","producer","director") VALUES ('0f02aec5-b741-4d3e-8fb4-87ac4961a401',0,1,'2024-03-16T14:59:46.404Z','2024-03-16T14:59:46.404Z',NULL,NULL,NULL,NULL,'Avatar 2','avatar_2',187,'R','James Cameron','James Cameron'),('0f02aec5-b741-4d3e-8fb4-87ad4961a402',0,1,'2024-03-16T14:59:46.404Z','2024-03-16T14:59:46.404Z',NULL,NULL,NULL,NULL,'Luck','luck',176,'S','Disney','Sam Raimi') ON CONFLICT DO NOTHING
INSERT INTO "reference_count" ("id","sort","status","created_at","updated_at","deleted_at","additional","creator_id","modifier_id","name","prefix","length","count") VALUES ('aef9fdd3-00d6-475c-b6ca-8e49f74bd07d',0,1,'2024-03-16T14:59:46.408Z','2024-03-16T14:59:46.408Z',NULL,NULL,NULL,NULL,'Transaction','INV',5,0),('b6af1c8a-69f6-4243-854e-dffaaf60ef5a',0,1,'2024-03-16T14:59:46.408Z','2024-03-16T14:59:46.408Z',NULL,NULL,NULL,NULL,'Ticket','TC',8,0),('096b2fc8-7349-4c21-a735-b00165a0ccf2',0,1,'2024-03-16T14:59:46.408Z','2024-03-16T14:59:46.408Z',NULL,NULL,NULL,NULL,'Product','PR',7,0) ON CONFLICT DO NOTHING
INSERT INTO "seat_layout" ("id","sort","status","created_at","updated_at","deleted_at","additional","creator_id","modifier_id","code","row","column","characteristic") VALUES ('e56a0adc-743f-497f-b35b-132a6d4e7aec',0,1,'2024-03-16T14:59:46.412Z','2024-03-16T14:59:46.412Z',NULL,NULL,NULL,NULL,'A1','A','1','standart seat'),('1c63cb29-cabf-48ba-b4f9-a6582b694716',0,1,'2024-03-16T14:59:46.412Z','2024-03-16T14:59:46.412Z',NULL,NULL,NULL,NULL,'A2','A','2','standart seat'),('bcf05a87-730d-4e55-9ea9-3d1a7830cbf3',0,1,'2024-03-16T14:59:46.412Z','2024-03-16T14:59:46.412Z',NULL,NULL,NULL,NULL,'B1','B','1','standart seat'),('b7f176c9-0e69-4f32-8e4f-967f1d67c0fb',0,1,'2024-03-16T14:59:46.412Z','2024-03-16T14:59:46.412Z',NULL,NULL,NULL,NULL,'B2','B','B','standart seat') ON CONFLICT DO NOTHING
SELECT * FROM "seat_layout" WHERE "seat_layout"."deleted_at" IS NULL
INSERT INTO "seat" ("id","sort","status","created_at","updated_at","deleted_at","additional","creator_id","modifier_id","show_schedule_id","seat_layout_id","code","row","column","characteristic","is_available") VALUES ('da3aeddd-7e98-44b7-ba71-bfc93fe43762',0,1,'2024-03-16T14:59:46.420Z','2024-03-16T14:59:46.420Z',NULL,NULL,NULL,NULL,'4ce25f12-9a2e-4de3-ab02-d335697c2a76','e56a0adc-743f-497f-b35b-132a6d4e7aec','A1','A','1','standart seat',true),('c58654c1-2f33-4378-aa47-2d46cfb69678',0,1,'2024-03-16T14:59:46.420Z','2024-03-16T14:59:46.420Z',NULL,NULL,NULL,NULL,'4ce25f12-9a2e-4de3-ab02-d335697c2a76','1c63cb29-cabf-48ba-b4f9-a6582b694716','A2','A','2','standart seat',true),('cdc81419-96ab-4b08-aa17-24f7f3f7f334',0,1,'2024-03-16T14:59:46.420Z','2024-03-16T14:59:46.420Z',NULL,NULL,NULL,NULL,'4ce25f12-9a2e-4de3-ab02-d335697c2a76','bcf05a87-730d-4e55-9ea9-3d1a7830cbf3','B1','B','1','standart seat',true),('c4d8dd74-e577-4564-aca3-247b496fc979',0,1,'2024-03-16T14:59:46.420Z','2024-03-16T14:59:46.420Z',NULL,NULL,NULL,NULL,'4ce25f12-9a2e-4de3-ab02-d335697c2a76','b7f176c9-0e69-4f32-8e4f-967f1d67c0fb','B2','B','B','standart seat',true)
SELECT * FROM "seat_layout" WHERE "seat_layout"."deleted_at" IS NULL
INSERT INTO "seat" ("id","sort","status","created_at","updated_at","deleted_at","additional","creator_id","modifier_id","show_schedule_id","seat_layout_id","code","row","column","characteristic","is_available") VALUES ('1a177a71-1227-4d2c-a0f7-d292eed88df9',0,1,'2024-03-16T14:59:46.422Z','2024-03-16T14:59:46.422Z',NULL,NULL,NULL,NULL,'4ba4641c-cef9-43b3-9307-7febbe6bc154','e56a0adc-743f-497f-b35b-132a6d4e7aec','A1','A','1','standart seat',true),('bc07b334-2b7b-4c3c-986b-0bd9a0f7f36b',0,1,'2024-03-16T14:59:46.422Z','2024-03-16T14:59:46.422Z',NULL,NULL,NULL,NULL,'4ba4641c-cef9-43b3-9307-7febbe6bc154','1c63cb29-cabf-48ba-b4f9-a6582b694716','A2','A','2','standart seat',true),('3e731cd4-cc90-42b5-97e4-93f802883815',0,1,'2024-03-16T14:59:46.422Z','2024-03-16T14:59:46.422Z',NULL,NULL,NULL,NULL,'4ba4641c-cef9-43b3-9307-7febbe6bc154','bcf05a87-730d-4e55-9ea9-3d1a7830cbf3','B1','B','1','standart seat',true),('1215f38c-5734-42ac-b18e-014690687f71',0,1,'2024-03-16T14:59:46.422Z','2024-03-16T14:59:46.422Z',NULL,NULL,NULL,NULL,'4ba4641c-cef9-43b3-9307-7febbe6bc154','b7f176c9-0e69-4f32-8e4f-967f1d67c0fb','B2','B','B','standart seat',true)
INSERT INTO "show_schedule" ("id","sort","status","created_at","updated_at","deleted_at","additional","creator_id","modifier_id","date","start_time","movie_id","cinema_location_id","theater_id","price","is_start","unique_code") VALUES ('4ce25f12-9a2e-4de3-ab02-d335697c2a76',0,1,'2024-03-16T14:59:46.417Z','2024-03-16T14:59:46.417Z',NULL,NULL,NULL,NULL,'2024-03-16','2024-03-16T14:59:46.399Z','0f02aec5-b741-4d3e-8fb4-87ac4961a401','0f02aec5-b741-4e3e-8fb4-87ad4961a403','0f02aec5-a741-4d3e-8fb4-87ad4961a405',35000,false,'sdfs8d7sdjw93'),('4ba4641c-cef9-43b3-9307-7febbe6bc154',0,1,'2024-03-16T14:59:46.417Z','2024-03-16T14:59:46.417Z',NULL,NULL,NULL,NULL,'2024-03-16','2024-03-16T14:59:46.399Z','0f02aec5-b741-4d3e-8fb4-87ad4961a402','0f02aec5-a741-4d3e-8fb4-87ad4961a404','0f02aec5-a741-4d3e-8fb4-87ad4961a405',40000,false,'sdfhsd7ewel50032j') ON CONFLICT DO NOTHING
INSERT INTO "theater" ("id","sort","status","created_at","updated_at","deleted_at","additional","creator_id","modifier_id","cinema_location_id","name","code") VALUES ('0f02aec5-a741-4d3e-8fb4-87ad4961a405',0,1,'2024-03-16T14:59:46.425Z','2024-03-16T14:59:46.425Z',NULL,NULL,NULL,NULL,'0f02aec5-b741-4e3e-8fb4-87ad4961a403','1','1'),('0f02aec5-a741-4d3e-8fb4-87ad4961a406',0,1,'2024-03-16T14:59:46.425Z','2024-03-16T14:59:46.425Z',NULL,NULL,NULL,NULL,'0f02aec5-b741-4e3e-8fb4-87ad4961a403','2','2'),('0f02aec5-a741-4d3e-8fb4-87ad4961a405',0,1,'2024-03-16T14:59:46.425Z','2024-03-16T14:59:46.425Z',NULL,NULL,NULL,NULL,'0f02aec5-a741-4d3e-8fb4-87ad4961a404','1','1'),('0f02aec5-a741-4d3e-8fb4-87ad4961a406',0,1,'2024-03-16T14:59:46.425Z','2024-03-16T14:59:46.425Z',NULL,NULL,NULL,NULL,'0f02aec5-a741-4d3e-8fb4-87ad4961a404','2','2') ON CONFLICT DO NOTHING
INSERT INTO "user" ("id","sort","status","created_at","updated_at","deleted_at","additional","creator_id","modifier_id","first_name","last_name","username","email","phone_number","is_admin","password","last_login") VALUES ('c38bf55b-299b-4a7e-8c6c-801b99ea46c9',0,1,'2024-03-16T14:59:46.429Z','2024-03-16T14:59:46.429Z',NULL,NULL,NULL,NULL,'Admin',NULL,'admin','admin@mail.com',NULL,true,'$2a$10$8katy8Li/HTJ.LljINi3oOrEIrvL.iscnzjnqskWONkJlyPxLq9W.','2024-03-16T14:59:46.399Z'),('fda7ee25-8a3d-46e2-b8bf-5b6a14e1a916',0,1,'2024-03-16T14:59:46.429Z','2024-03-16T14:59:46.429Z',NULL,NULL,NULL,NULL,'Armada','Muhammad','armada_muhammad','armadamuhammads@gmail.com','089678009400',false,'$2a$10$8katy8Li/HTJ.LljINi3oOrEIrvL.iscnzjnqskWONkJlyPxLq9W.','2024-03-16T14:59:46.399Z'),('3bf07d97-d248-4973-ad29-ae0501009002',0,1,'2024-03-16T14:59:46.429Z','2024-03-16T14:59:46.429Z',NULL,NULL,NULL,NULL,'John','doe','john_doe','johndoe@mail.com','089678009500',false,'$2a$10$8katy8Li/HTJ.LljINi3oOrEIrvL.iscnzjnqskWONkJlyPxLq9W.','2024-03-16T14:59:46.399Z') ON CONFLICT DO NOTHING
DROP TABLE IF EXISTS "schema_migration" CASCADE